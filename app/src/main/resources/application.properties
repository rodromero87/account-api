spring.application.name=account

# -----------------------------
# DB (MySQL)
# -----------------------------
spring.datasource.url=jdbc:mysql://localhost:3306/account?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.username=account
spring.datasource.password=account
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# AWS / SQS (LocalStack)
app.sqs.transactions-queue=transactions-queue
spring.cloud.aws.region.static=us-east-1

spring.cloud.aws.credentials.access-key=test
spring.cloud.aws.credentials.secret-key=test
spring.cloud.aws.sqs.endpoint=http://localhost:4566




# -----------------------------
# Flyway (rodar ANTES do Hibernate validar)
# -----------------------------
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
spring.flyway.user=account
spring.flyway.password=account

# MUITO IMPORTANTE: garante Flyway antes do Hibernate/JPA
spring.jpa.defer-datasource-initialization=true

# -----------------------------
# JPA / Hibernate
# -----------------------------
spring.jpa.hibernate.ddl-auto=update
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.show-sql=false

# Logs do Flyway (pra você ver ele rodando)
logging.level.org.flywaydb=DEBUG
